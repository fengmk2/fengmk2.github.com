<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="description" content="MK2's blog，生命是一场幻觉，代码是一段人生。"/>
  <link rel="stylesheet" href="/css/typo.css" />
  <link rel="stylesheet" href="/css/prettify.css">
  <script src="/js/jquery-1.7.min.js"></script>
  <script src="/js/prettify.js"></script>
  <title>#title#</title>
  <style>
     body {
      font-family: Helvetica, Arial, FreeSans, san-serif;
     }
     a{color:#09f;}
     code{color:#080;}
     h1, #tagline{display:inline;}
     #wrapper{padding:5% 8%;min-width:480px;}
     #tagline{font:0.8em serif;color:#888;display:inline-block;margin:0.1em 0 1.2em;}
     #fork{position:fixed;top:0;right:0;_position:absolute;}
  </style>
</head>
<body>

<div id="wrapper" class="typo">

<div id="header">
<h3><a href="/">Home</a> | <a href="../">Prev</a></h3>
</div> <!-- #header -->

<div id="content">
<h1>NAE client v1(beta) release</h1>

<p>如有任何问题，请微博联系<a href="http://weibo.com/literal">@Literal</a></p>

<p>Hi, all<br />NAE client v1(beta) release~。 这回真可以用了！！！</p>

<p>欢迎试用，安全起见，首次试用，请先用一个测试目录。记得保护自己的代码哦</p>

<p>欢迎反馈 ， ^_^ 。</p>

<h2>安装nae客户端</h2>

<pre><code>$ wget <a href='http://cnodejs.net/download/install.sh'>http://cnodejs.net/download/install.sh</a>
$ chmod +x ./install.sh
$ sudo ./install.sh
</code></pre>

<p>安装之后</p>

<pre><code>$ nae
# 将打印出版本信息,说明安装成功
</code></pre>

<h2>使用nae客户端</h2>

<p>在开始之前，请仔细阅读这段说明。<br />nae client在开始使用时需要先身份认证，身份认证需要使用auth命令获取身份认证</p>

<pre><code>$ nae auth
</code></pre>

<p>份认证成功之后，会在~/.nae_auth文件中保存认证的token信息。所以当切换用户时，需要重新认证。</p>

<p>nae client执行download动作时，是将服务器端的代码同步到本地。<br />同步的过程中，“会删除本地有而服务器端没有的文件！！！”<br />所以在使用download之前，请先commit本地代码，以防代码丢失。</p>

<p>nae client执行upload的时候，同样，“会将本地没有而服务器端有的文件删除！！！”<br />所以在upload之前，如有必要，请先备份服务器端代码。</p>

<h3>身份认证</h3>

<pre><code>$ nae auth
</code></pre>

<h3>查看app状态</h3>

<pre><code>$ nae status appname
</code></pre>

<h3>启动app</h3>

<pre><code>$ nae start appname
</code></pre>

<h3>关闭app</h3>

<pre><code>$ nae stop appname
</code></pre>

<h3>重启app</h3>

<pre><code>$ nae restart appname
</code></pre>

<p>调试app,捕获服务器端app的输出信息</p>

<pre><code>$ nae debug appname
</code></pre>

<h3>上传app</h3>

<p>上传的时候，有需要排除的文件<br />比如.project .setting等文件，可以创建一个.naeignore文件，每行一个正则表达，匹配则忽略文件和目录</p>

<pre><code>$ nae upload appname
$ nae sup appname
</code></pre>

<h3>下载app</h3>

<p>下载之后，目录中会有一个索引文件，.naeindex ,这是一个diff文件，不要删除它，client需要这个文件</p>

<pre><code>$ nae syncdown appname
$ nae sdown appname
</code></pre>

<h3>帮助信息</h3>

<pre><code>$ nae help
</code></pre>

<h3>更新客户端</h3>

<p>自我更新功能，还需要存放客户端的服务器支持，暂无~</p>

<pre><code>$ sudo nae update
</code></pre>

<h3>启动app</h3>

<p>当cd到app目录中时，nae命令可以省略appname，比如:</p>

<pre><code>$ nae start
# 重启
$ nae restart
</code></pre>

<h2>.naeignore</h2>

<h3>.naeignore文件策略</h3>

<p>. naeignore  文件用来控制syncup、syncdown时，过滤不必要的文件传输，比如一些用户数据、版本控制文件、服务器日志等等。<br />syncup的时候，使用本地的. naeignore文件，<br />syncdown的时候，使用服务器端的. naeignore文件</p>

<h3>.naeignore 编写范例：</h3>

<pre><code>db/*                   =&gt; ^db\/.*$                        过滤服务器根目录下的db目录下的所有文件，db目录不会被过滤
db                       =&gt; ^db$                               仅过滤服务器根目录下名为 db的文件
log/*.error       =&gt; ^\/log\/.*\.error$        过滤服务器根目录下 log目录下的 .error后缀的文件
upload/*           =&gt; ^upload\/.*$                 过滤上传目录下的所有文件
package.json   =&gt;                                          过滤nae的配置文件
config.js            =&gt;                                          过滤工程的配置文件
</code></pre>

<h2>Change log</h2>

<ol>
<li>订正了同步协议中的一些bug，更新了同步机制</li>
<li>同步命令增加两个别名，方便使用</li>
<li>同步时有确认命令，便于检查</li>
<li>修复了cmd的一些bug</li>
<li>源代码加入了Build工具</li>
</ol>

<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'fengmk2github'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div> <!-- #content -->

<div id="footer">
</div> <!-- #footer -->

</div> <!-- #wrapper -->

<a href="https://github.com/fengmk2/mk2blog" id="fork">
    <img alt="Fork me on GitHub" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
</a>

<!-- Specific to this page -->
<script>
$(function() {
  // Deck initialization
  $('pre code').parent().addClass('prettyprint');
  prettyPrint();
});
</script>
</body>
</html>
